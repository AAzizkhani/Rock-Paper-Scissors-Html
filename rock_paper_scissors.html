<!DOCTYPE html>

<html lang="en">

  <head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Rock Paper Scissors</title>

  </head>

  <body>
    
    <p>Rock Paper Scissors</p>
    <br>
    <button onclick="
    
      randomNum = Math.random();
      showMessage('Rock');

    ">Rock</button>

    <button onclick="
      
      randomNum = Math.random();
      showMessage('Paper');

    ">Paper</button>

    <button onclick="

      randomNum = Math.random();
      showMessage('Scissors');

    ">Scissors</button>
    <br>
    <br>
    <button onclick="

      score.wins = 0;
      score.loses= 0;
      score.ties = 0;

      localStorage.removeItem('score');

    ">Reset score</button>

    <script>
      
      let score = JSON.parse(localStorage.getItem('score')) || {wins: 0 , loses: 0 , ties: 0};
      //!score ? score = {wins: 0 , loses: 0 , ties: 0}:{};//another type of second psrt of code line 52

      let randomNum=0 ;

      function makeComputerMove()
      {
        let computerMove ='';

        computerMove = 1/3>randomNum && randomNum >=0 ? 'Rock' : 2/3>randomNum && randomNum >=1/3 ? 'Paper' : 'Scissors';

        return computerMove;
      }

      function getResult(input , computerMoveInput)
      {
        let result ='';

        input ==='Rock' ?result = computerMoveInput ==='Rock'    ?'it is a tie!':computerMoveInput ==='Paper'   ?'you lose!':'you win!'
       :input ==='Paper'?result = computerMoveInput ==='Paper'   ?'it is a tie!':computerMoveInput ==='Scissors'?'you lose!':'you win!'
                        :result = computerMoveInput ==='Scissors'?'it is a tie!':computerMoveInput ==='Rock'    ?'you lose!':'you win!';

        return result;
      }

      function addScore(resultInput)
      {
        resultInput === 'it is a tie!' ?++score.ties :resultInput === 'you lose!' ?++score.loses:++score.wins;
        localStorage.setItem('score' , JSON.stringify(score));
        return resultInput;
      }

      function showMessage(input)
      {
        alert(`\tyour move: ${input}
        computer move: ${makeComputerMove()}
        result: ${addScore(getResult(input , makeComputerMove()))}
               
        Wins: ${score.wins} , Loses: ${score.loses} , Ties: ${score.ties}`)
      }
      
    </script>

  </body>

</html>