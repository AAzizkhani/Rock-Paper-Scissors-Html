<!DOCTYPE html>

<html lang="en">

  <head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Rock Paper Scissors</title>

    <style>
      body
      {
        background-color: black;
        color: white;
        font-family:serif;
      }

      .title
      {
        font-size: 20px;
        font-weight: bold;
        padding-left:16cm;
      }

      .iconPic
      {
        height: 100px;
      }
      .moveBtn
      { 
        background-color:transparent;
        width:  190px;
        height: 190px;
        border: 3px solid snow;
        border-radius: 200px;

        margin-right: 3px;
        
      }
      

    </style>

  </head>

  <body>
    
    <p class="title">Rock Paper Scissors</p>
    <br>
    
    <button class="moveBtn" onclick="
    
      randomNum = Math.random();
      showMessage('Rock');

    "><img src="img/rock.png" class="iconPic"></button>

    <button class="moveBtn" onclick="
      
      randomNum = Math.random();
      showMessage('Paper');

    "><img src="img/paper.png" class="iconPic"></button>

    <button class="moveBtn" onclick="

      randomNum = Math.random();
      showMessage('Scissors');

    "><img src="img/scissors.png" class="iconPic"></button>

    <p class="jsScore"         ></p>
    <br>
    <p class="jsResult"        ></p>
    <br>
    <p class="jsHumanMove"     ></p>
    <p class="jsComputerMove"  ></p>
  
    <button onclick="

      score.wins = 0;
      score.loses= 0;
      score.ties = 0;

    localStorage.removeItem('score');
    updateScoreTxt();

    ">Reset score</button>
    
    
    <script>
      
      let score = JSON.parse(localStorage.getItem('score')) || {wins: 0 , loses: 0 , ties: 0};
      //!score ? score = {wins: 0 , loses: 0 , ties: 0}:{};//another type of second psrt of code line 52
      
      let randomNum=0 ;
      
      function updateScoreTxt()
      {
        document.querySelector('.jsScore').innerHTML = `Wins: ${score.wins} , Loses: ${score.loses} , Ties: ${score.ties}`;
      } updateScoreTxt();
    
      function makeComputerMove()
      {
        let computerMove ='';

        computerMove = 1/3>randomNum && randomNum >=0 ? 'Rock' : 2/3>randomNum && randomNum >=1/3 ? 'Paper' : 'Scissors';

        return computerMove;
      }
      
      function getResult(input , computerMoveInput)
      {
        let result ='';
        
        input ==='Rock'  ?result = computerMoveInput ==='Rock'    ?'it is a tie!':computerMoveInput ==='Paper'   ?'you lose!':'you win!'
        :input ==='Paper'?result = computerMoveInput ==='Paper'   ?'it is a tie!':computerMoveInput ==='Scissors'?'you lose!':'you win!'
                         :result = computerMoveInput ==='Scissors'?'it is a tie!':computerMoveInput ==='Rock'    ?'you lose!':'you win!';
        
        return result;
      } 
      
      function addScore(resultInput)
      {
        resultInput === 'it is a tie!' ?++score.ties :resultInput === 'you lose!' ?++score.loses:++score.wins;
        localStorage.setItem('score' , JSON.stringify(score));
        updateScoreTxt(); 
        return resultInput;
      }

      function showMessage(input)
      {
        document.querySelector('.jsResult'      ).innerHTML   = addScore(getResult(input , makeComputerMove()));
        document.querySelector('.jsHumanMove'   ).innerHTML   = `Your move: ${input}` ;
        document.querySelector('.jsComputerMove').innerHTML   = `Computer move: ${makeComputerMove()}` ;
      }

      
      </script>

</body>

</html>